= Assign Custom IDs and Reference Text
:url-adoc-a2x: https://aerostitch.github.io/misc/asciidoc/asciidoc-title_uft8.html

You can assign a custom ID and optional reference text (i.e., label) to a section (see xref:attributes:ids.adoc#anchor[anchor]).
The custom ID is used in place of the autogenerated ID.
This can be useful when you want to define a stable anchor for linking to a section using a cross reference.
The reference text is used when referencing the ID without specifying explicit text.
This is a good way to centrally manage the automatic reference text that is used to refer to a section.

Here's an example of a section with a custom ID:

[source]
----
include::example$section.adoc[tag=with-anchor-shorthand]
----

Here's an example of a section with a custom ID and reference text:

[source]
----
include::example$section.adoc[tag=with-anchor-and-reftext]
----

The ID can be written using the following shorthand (though there's no shorthand yet for the reference text):

[source]
----
include::example$section.adoc[tag=with-anchor-and-reftext-shorthand]
----

IMPORTANT: The value of the reftext attribute must be quoted if it contains spaces or commas.

IMPORTANT: Asciidoctor recognizes all valid UTF-8 characters in section IDs.
When using the double square bracket form, the ID must conform to the https://www.w3.org/TR/REC-xml/#NT-Name[XML Name] rules, which means the ID must start with a letter, an underscore, or a colon.
If you're generating a PDF from AsciiDoc using a2x and dblatex, see https://aerostitch.github.io/misc/asciidoc/asciidoc-title_uft8.html[Using UTF-8 titles with a2x] to learn about the required `latex.encoding=utf8` switch to activate this portability.

== Assign additional IDs

A section title can only have a single primary ID.
However, it's possible to register additional IDs on a section title using inline anchors.
This feature works regardless of whether you assign a custom ID.

Here's how to register additional anchor points when using an autogenerated ID:

.Register additional leading anchor points
[source]
----
== [[secondary-id]][[tertiary-id]]Section Title
----

.Register additional trailing anchor points
[source]
----
== Section Title[[secondary-id]][[tertiary-id]]
----

You can place the anchors anywhere within the section title line.
Where you place them is where the anchor will end up in the output, so it's best to put them either at the beginning or the end.
The beginning is the preferred location.

These additional anchor points don't interfere with the declaration of the primary ID.

.Register additional leading anchor points on a section title with a custom ID
[source]
----
[#primary-id]
== [[secondary-id]][[tertiary-id]]Section Title
----

////
Alternately, you can move the primary ID inline by placing it after the section title, offset by a single space.

.Set the custom ID within the section title
[source]
----
== Section Title[[secondary-id]][[tertiary-id]] [[primary-id]]
----

However, we don't recommend defining the primary ID inline as it's more difficult to read.
////
